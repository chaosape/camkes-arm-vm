import <uartwriter.idl4>;
import <clkcar.idl4>;
import <gen_fwd.idl4>;

component UARTSHIM {
    control;

    uses clkcar_inf clkcar;
    provides gen_fwd_inf gen_fwd;
    provides uartwriter incoming;
    uses uartwriter outgoing;

    // Internal interface
    dataport Buf tk1_uart_regs;
    consumes DataAvailable interrupt;
    has mutex device;
    has mutex write_sem_sim;

    has mutex write_pktbuf_mutex;

    has semaphore wake_run;
}
